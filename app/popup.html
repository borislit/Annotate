<!doctype html>
<html >
  <head>
    <meta charset="utf-8">
    <!-- build:css styles/popup-vendor.css -->
    <!-- bower:css -->
    <!-- endbower -->
    <!-- endbuild -->
    <!-- build:css styles/main.css -->
    <link href="styles/popup.css" rel="stylesheet">
    <link  href="bower_components/angular/angular-csp.css" rel="stylesheet">
    <!-- endbuild -->
  </head>
  <body class="popup" ng-csp ng-app="annotate">
    <div ng-controller="MainCtrl as main">
      <div class="popup__logo-wrapper">
        <div class="popup__logo"></div>
      </div>
      <div class="popup__groups-list">
        <div class="popup__group">
          <input class="popup__search" type="text" name="search" ng-model="main.filterCriteria">
        </div>
        <div class="popup__group popup__create-new" ng-click="main.switchToAddAddNew()" ng-if="!main.isInAddMode">+ Create New</div>
        <div class="popup__group" ng-if="main.isInAddMode">
          <input class="popup__search" type="text" name="new-cat" ng-model="main.groupToAdd">
          <div class="popup__add-groups" ng-click="main.addGroup(main.groupToAdd)">
            <button type="button">Add</button>
          </div>
        </div>
        <div ng-repeat="group in filtered = (main.groups | filter: main.filterCriteria)" class="popup__group" ng-click="main.onGroupSelected(group)">{{group}}</div>
        <div ng-if="filtered.length == 0">Empty</div>
      </div>
    </div>
    <!-- build:js scripts/popup-vendor.js -->
    <!-- bower:js -->
    <script src="bower_components/jquery/dist/jquery.min.js"></script>
    <script src="bower_components/angular/angular.js"></script>
    <!-- endbower -->
    <!-- endbuild -->

    <!-- build:js scripts/popup.js -->
    <script src="scripts/popup.js"></script>
    <script src="scripts/events.js"></script>
    <script src="scripts/popupApp/events.js"></script>
    <script src="scripts/popupApp/main-ctrl.js"></script>
    <script src="scripts/popupApp/groups-service.js"></script>
    <script src="scripts/popupApp/messaging-service.js"></script>
    <!-- endbuild -->
  </body>
</html>
